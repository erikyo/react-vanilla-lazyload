import{j as be}from"./index-D9IFKepY.js";const u=typeof window<"u",B=u&&!("onscroll"in window)||typeof navigator<"u"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),U=u&&window.devicePixelRatio>1,he={elements_selector:".lazy",container:B||u?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},J=e=>Object.assign({},he,e),S=function(e,t){let n;const a="LazyLoad::Initialized",s=new e(t);try{n=new CustomEvent(a,{detail:{instance:s}})}catch{n=document.createEvent("CustomEvent"),n.initCustomEvent(a,!1,!1,{instance:s})}window.dispatchEvent(n)},me=(e,t)=>{if(t)if(t.length)for(let n,a=0;n=t[a];a+=1)S(e,n);else S(e,t)},r="src",O="srcset",C="sizes",P="poster",f="llOriginalAttrs",W="data",z="loading",q="loaded",K="applied",pe="entered",M="error",Q="native",X="data-",Y="ll-status",l=(e,t)=>e.getAttribute(X+t),fe=(e,t,n)=>{const a=X+t;n!==null?e.setAttribute(a,n):e.removeAttribute(a)},v=e=>l(e,Y),$=(e,t)=>fe(e,Y,t),I=e=>$(e,null),N=e=>v(e)===null,ve=e=>v(e)===z,Ee=e=>v(e)===M,T=e=>v(e)===Q,Ie=[z,q,K,M],ye=e=>Ie.indexOf(v(e))>=0,_=(e,t,n,a)=>{e&&typeof e=="function"&&(a===void 0?n===void 0?e(t):e(t,n):e(t,n,a))},h=(e,t)=>{u&&t!==""&&e.classList.add(t)},i=(e,t)=>{u&&t!==""&&e.classList.remove(t)},we=e=>{e.llTempImage=document.createElement("IMG")},Le=e=>{delete e.llTempImage},Z=e=>e.llTempImage,y=(e,t)=>{if(!t)return;const n=t._observer;n&&n.unobserve(e)},ke=e=>{e.disconnect()},Ae=(e,t,n)=>{t.unobserve_entered&&y(e,n)},D=(e,t)=>{e&&(e.loadingCount+=t)},xe=e=>{e&&(e.toLoadCount-=1)},ee=(e,t)=>{e&&(e.toLoadCount=t)},Oe=e=>e.loadingCount>0,Ce=e=>e.toLoadCount>0,te=e=>{let t=[];for(let n,a=0;n=e.children[a];a+=1)n.tagName==="SOURCE"&&t.push(n);return t},R=(e,t)=>{const n=e.parentNode;n&&n.tagName==="PICTURE"&&te(n).forEach(t)},ne=(e,t)=>{te(e).forEach(t)},w=[r],ae=[r,P],p=[r,O,C],se=[W],L=e=>!!e[f],oe=e=>e[f],le=e=>delete e[f],b=(e,t)=>{if(L(e))return;const n={};t.forEach(a=>{n[a]=e.getAttribute(a)}),e[f]=n},ze=e=>{L(e)||(e[f]={backgroundImage:e.style.backgroundImage})},g=(e,t)=>{if(!L(e))return;const n=oe(e);t.forEach(a=>{((s,o,c)=>{c?s.setAttribute(o,c):s.removeAttribute(o)})(e,a,n[a])})},Me=e=>{if(!L(e))return;const t=oe(e);e.style.backgroundImage=t.backgroundImage},ie=(e,t,n)=>{h(e,t.class_applied),$(e,K),n&&(t.unobserve_completed&&y(e,t),_(t.callback_applied,e,n))},re=(e,t,n)=>{h(e,t.class_loading),$(e,z),n&&(D(n,1),_(t.callback_loading,e,n))},d=(e,t,n)=>{n&&e.setAttribute(t,n)},H=(e,t)=>{d(e,C,l(e,t.data_sizes)),d(e,O,l(e,t.data_srcset)),d(e,r,l(e,t.data_src))},Ne=(e,t)=>{R(e,n=>{b(n,p),H(n,t)}),b(e,p),H(e,t)},Te=(e,t)=>{b(e,w),d(e,r,l(e,t.data_src))},De=(e,t)=>{ne(e,n=>{b(n,w),d(n,r,l(n,t.data_src))}),b(e,ae),d(e,P,l(e,t.data_poster)),d(e,r,l(e,t.data_src)),e.load()},Re=(e,t)=>{b(e,se),d(e,W,l(e,t.data_src))},je=(e,t,n)=>{const a=l(e,t.data_bg),s=l(e,t.data_bg_hidpi),o=U&&s?s:a;o&&(e.style.backgroundImage=`url("${o}")`,Z(e).setAttribute(r,o),re(e,t,n))},Se=(e,t,n)=>{const a=l(e,t.data_bg_multi),s=l(e,t.data_bg_multi_hidpi),o=U&&s?s:a;o&&(e.style.backgroundImage=o,ie(e,t,n))},He=(e,t,n)=>{const a=l(e,t.data_bg_set);if(!a)return;let s=a.split("|").map(o=>`image-set(${o})`);e.style.backgroundImage=s.join(),ie(e,t,n)},ce={IMG:Ne,IFRAME:Te,VIDEO:De,OBJECT:Re},Ge=(e,t)=>{const n=ce[e.tagName];n&&n(e,t)},Fe=(e,t,n)=>{const a=ce[e.tagName];a&&(a(e,t),re(e,t,n))},Ve=["IMG","IFRAME","VIDEO","OBJECT"],Be=e=>Ve.indexOf(e.tagName)>-1,de=(e,t)=>{!t||Oe(t)||Ce(t)||_(e.callback_finish,t)},G=(e,t,n)=>{e.addEventListener(t,n),e.llEvLisnrs[t]=n},Ue=(e,t,n)=>{e.removeEventListener(t,n)},j=e=>!!e.llEvLisnrs,Je=(e,t,n)=>{j(e)||(e.llEvLisnrs={});const a=e.tagName==="VIDEO"?"loadeddata":"load";G(e,a,t),G(e,"error",n)},k=e=>{if(!j(e))return;const t=e.llEvLisnrs;for(let n in t){const a=t[n];Ue(e,n,a)}delete e.llEvLisnrs},ue=(e,t,n)=>{Le(e),D(n,-1),xe(n),i(e,t.class_loading),t.unobserve_completed&&y(e,n)},Pe=(e,t,n,a)=>{const s=T(t);ue(t,n,a),h(t,n.class_loaded),$(t,q),_(n.callback_loaded,t,a),s||de(n,a)},We=(e,t,n,a)=>{const s=T(t);ue(t,n,a),h(t,n.class_error),$(t,M),_(n.callback_error,t,a),n.restore_on_error&&g(t,p),s||de(n,a)},A=(e,t,n)=>{const a=Z(e)||e;j(a)||Je(a,s=>{Pe(0,e,t,n),k(a)},s=>{We(0,e,t,n),k(a)})},x=(e,t,n)=>{Be(e)?((a,s,o)=>{A(a,s,o),Fe(a,s,o)})(e,t,n):((a,s,o)=>{we(a),A(a,s,o),ze(a),je(a,s,o),Se(a,s,o),He(a,s,o)})(e,t,n)},qe=(e,t,n)=>{e.setAttribute("loading","lazy"),A(e,t,n),Ge(e,t),$(e,Q)},F=e=>{e.removeAttribute(r),e.removeAttribute(O),e.removeAttribute(C)},Ke=e=>{R(e,t=>{F(t)}),F(e)},_e=e=>{R(e,t=>{g(t,p)}),g(e,p)},Qe=e=>{ne(e,t=>{g(t,w)}),g(e,ae),e.load()},Xe=e=>{g(e,w)},Ye=e=>{g(e,se)},Ze={IMG:_e,IFRAME:Xe,VIDEO:Qe,OBJECT:Ye},et=(e,t)=>{(n=>{const a=Ze[n.tagName];a?a(n):Me(n)})(e),((n,a)=>{N(n)||T(n)||(i(n,a.class_entered),i(n,a.class_exited),i(n,a.class_applied),i(n,a.class_loading),i(n,a.class_loaded),i(n,a.class_error))})(e,t),I(e),le(e)},tt=(e,t,n,a)=>{n.cancel_on_exit&&ve(e)&&e.tagName==="IMG"&&(k(e),Ke(e),_e(e),i(e,n.class_loading),D(a,-1),I(e),_(n.callback_cancel,e,t,a))},nt=(e,t,n,a)=>{const s=ye(e);$(e,pe),h(e,n.class_entered),i(e,n.class_exited),Ae(e,n,a),_(n.callback_enter,e,t,a),s||x(e,n,a)},at=(e,t,n,a)=>{N(e)||(h(e,n.class_exited),tt(e,t,n,a),_(n.callback_exit,e,t,a))},st=["IMG","IFRAME","VIDEO"],ge=e=>e.use_native&&"loading"in HTMLImageElement.prototype,ot=(e,t,n)=>{e.forEach(a=>{st.indexOf(a.tagName)!==-1&&qe(a,t,n)}),ee(n,0)},lt=e=>e.isIntersecting||e.intersectionRatio>0,it=(e,t)=>{t.forEach(n=>{e.observe(n)})},rt=(e,t)=>{ke(e),it(e,t)},ct=(e,t)=>{ge(e)||(t._observer=new IntersectionObserver(n=>{((a,s,o)=>{a.forEach(c=>lt(c)?nt(c.target,c,s,o):at(c.target,c,s,o))})(n,e,t)},(n=>({root:n.container===document?null:n.container,rootMargin:n.thresholds||n.threshold+"px"}))(e)))},$e=e=>Array.prototype.slice.call(e),E=e=>e.container.querySelectorAll(e.elements_selector),dt=e=>$e(e).filter(N),ut=e=>Ee(e),_t=e=>$e(e).filter(ut),V=(e,t)=>dt(e||E(t)),gt=(e,t)=>{_t(E(e)).forEach(n=>{i(n,e.class_error),I(n)}),t.update()},$t=(e,t)=>{u&&(t._onlineHandler=()=>{gt(e,t)},window.addEventListener("online",t._onlineHandler))},bt=e=>{u&&window.removeEventListener("online",e._onlineHandler)},m=function(e,t){const n=J(e);this._settings=n,this.loadingCount=0,ct(n,this),$t(n,this),this.update(t)};m.prototype={update:function(e){const t=this._settings,n=V(e,t);ee(this,n.length),B?this.loadAll(n):ge(t)?ot(n,t,this):rt(this._observer,n)},destroy:function(){this._observer&&this._observer.disconnect(),bt(this),E(this._settings).forEach(e=>{le(e)}),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){const t=this._settings;V(e,t).forEach(n=>{y(n,this),x(n,t,this)})},restoreAll:function(){const e=this._settings;E(e).forEach(t=>{et(t,e)})}},m.load=(e,t)=>{const n=J(t);x(e,n)},m.resetStatus=e=>{I(e)},u&&me(m,window.lazyLoadOptions);function mt(e=document.body,t={}){var n;if((n=e.classList)==null||n.add("vanilla-lazyload-wrapper"),window.lazyLoadOptions={...t,container:e},typeof window<"u"&&"IntersectionObserver"in window){const a=new m;return()=>a.destroy()}}function pt(e){return e?e+" lazy":"lazy"}function ft(){return be.jsx("img",{src:"https://source.unsplash.com/random/2000Ã—600",style:{width:"100%",height:"600px",objectFit:"cover",margin:"0 0 25px"},title:"The image SHOULD be loaded without lazy loading in order to avoid CLS issues",alt:"The image SHOULD be loaded without lazy loading in order to avoid CLS issues"})}export{ft as W,mt as i,pt as l};
